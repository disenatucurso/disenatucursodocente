<!-- <p>-------------------- ALERTAS --------------------</p> 
<ngb-alert [dismissible]="true" 
             type='danger'>
    <strong>Ups! Ha ocurrido un error</strong>
</ngb-alert>-->
<!-- cabezal -->
<header class="ps-4 pt-2 container" *ngIf="muestroHeader()">
  <div class="d-flex flex-row border-bottom justify-content-between">
      <div class="d-flex flex-row align-items-center">
        <i class="bi bi-mortarboard-fill p-2" style="font-size: 1.8rem;"></i>
        <h1 class="p-2 fw-bolder">Inicio</h1>
      </div>
      <div class="text-center d-flex align-items-center" *ngIf="this.initialSchemaService.allData">
        <div>
            <a class="btn btn-primary btn-rounded background-primary m-2" href="#!" role="button" (click)="openModal()">
              <i class="bi bi-plus-circle-dotted me-2"></i>CREAR CURSO</a>
            <button class="btn btn-primary btn-rounded background-primary m-2" type="button" 
              (click)="fileUpload.click()">
              <i class="bi bi-box-arrow-in-up me-2"></i>IMPORTAR DISEÑO</button>
            <input type="file" class="file-upload" onclick="this.value = null" (change)="cargarArchivo($event)" 
            accept=".json"
            #fileUpload>

        </div>
      </div>
  </div>
</header>

<!-- Mis cursos -->
<section class="container border-bottom" *ngIf="muestroMisCursos()">
  <div class="container-card">
    <div class="container">
      <h3 class="opacity-75">Mis cursos</h3>
      <div class="row">
        <div class="col-md-4 mt-4" *ngFor="let cursos of initialSchemaService.allData" (click)="cardClick(cursos.id)"> 
          <!-- (click)="cardClick(cursos.id)" -->
          <div class="card cursor-pointer">
            <div class="card-title">
              <div class="d-flex align-items-center">
                <h5>{{cursos.nombreCurso}}</h5> 
                <i class="bi bi-pencil-fill p-2" style="font-size: 10px; opacity: .6;" title="Editar nombre" (click)="editarNombre(cursos,$event)"></i>
              </div>
              <small class="m-0">Autor: {{cursos.versiones.at(-1)?.autor}}</small>
            </div>  
            <div class="card-img-containter">
              <img src="../assets/img/empty_card_cursos.svg" class="card-img" alt="Card cursos"/>
            </div>          
            
            <div class="card-body">
              <div class="d-flex flex-column">
                <small>Version: {{cursos.versiones.at(-1)?.version}}</small>
                <small>Fecha de creación: {{cursos.versiones.at(-1)?.fechaCreacion | date:'yyyy-MM-dd'}}</small>
                <small>Última modificación: {{cursos.versiones.at(-1)?.fechaModificacion | date:'yyyy-MM-dd' }}</small>
              </div>
              <div class="d-flex">
                <button class="btn btn-outline-primary background-primary m-2 btn-outline-expand dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" (click)="onClick($event)">
                  <i class="bi bi-cloud-arrow-down "></i>EXPORTAR</button>
                  <ul class="dropdown-menu">
                    <li><button class="dropdown-item" (click)="descargarCurso($event,cursos.id)">Exportar curso</button></li>
                    <li><button class="dropdown-item" (click)="descargarPDF($event,cursos.id)">Descargar cómo PDF</button></li>
                  </ul>
                <button class="btn btn-outline-primary background-primary m-2 btn-outline-expand" type="button" (click)="onClick($event)">
                    <i class="bi bi-share-fill "></i>COMPARTIR</button>
                <button class="btn btn-outline-primary background-primary m-2 btn-outline-expand" type="button" (click)="onClick($event)">
                 <i class="bi bi-clock-history "></i>HISTORIAL</button>
              
              
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- cursos compartidos conmigo -->
<section class="container" *ngIf="muestroCursosCompartidosConmigo()">
  
</section>

<section class="container d-flex align-items-center row m-auto" *ngIf="muestroNoExistenCursos()">
    <div class="p-4">
        <h2 class="p-2 fw-bolder text-center opacity-75 p-4 m-auto" style="max-width: 50ch;">¡Hola!</h2>
        <img src="../assets/img/empty_home.svg" alt="Bienvenido/a" class="d-block m-auto img-empty">
        <h2 class="p-2 fw-bolder text-center opacity-75 p-4 m-auto" style="max-width: 50ch;">Aquí veras tus cursos, ¿Comenzamos?</h2>
        <div class="text-center d-block align-items-center m-auto">
            <a class="btn btn-primary btn-rounded background-primary m-2" href="#!" role="button" (click)="openModal()">
              <i class="bi bi-plus-circle-dotted me-2"></i>CREAR CURSO</a>
        <button class="btn btn-primary btn-rounded background-primary m-2" type="button" (click)="fileUpload.click()">
            <i class="bi bi-box-arrow-in-up me-2"></i>IMPORTAR DISEÑO</button>
            <input type="file" class="file-upload" onclick="this.value = null" (change)="cargarArchivo($event)" 
            accept=".json" #fileUpload>
        </div>
    </div>
</section>