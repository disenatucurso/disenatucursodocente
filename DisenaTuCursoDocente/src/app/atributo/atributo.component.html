<div *ngIf="atributo.puntoCritico" class="accordion puntoCritico">
    <div *ngIf="atributo.puntoCritico.normativa" class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#contenidoNormativa">
                Normativa
            </button>
        </h2>
        <div id="contenidoNormativa" class="accordion-collapse collapse collapse">
            <div class="accordion-body" [innerHTML]="addLinkHTML(atributo.puntoCritico.normativa)"></div>
        </div>
    </div>
    <div *ngIf="atributo.puntoCritico.informacionAmpliatoria" class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#contenidoInformacionAmpliatoria">
                Informaci√≥n Ampliatoria
            </button>
        </h2>
        <div id="contenidoInformacionAmpliatoria" class="accordion-collapse collapse">
            <div class="accordion-body" [innerHTML]="addLinkHTML(atributo.puntoCritico.informacionAmpliatoria)"></div>
        </div>
    </div>
    <div *ngIf="atributo.puntoCritico.aporteConceptual" class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#contenidoAporteConceptual">
                Aporte Conceptual
            </button>
        </h2>
        <div id="contenidoAporteConceptual" class="accordion-collapse collapse">
            <div class="accordion-body" [innerHTML]="addLinkHTML(atributo.puntoCritico.aporteConceptual)"></div>
        </div>
    </div>
</div>
<div *ngFor="let _ of [].constructor(cantidadInstancias); index as i">
    <p>{{ atributo.nombre }}</p>
    <div *ngFor="let fila of atributo.filasDatos" class="row">
        <div *ngFor="let dato of fila.datos" class="col">
            <div class="mb-3">
                <!--
                    number,
                    selectFijoUnico,
                    text,
                    selectFijoMultiple,
                    radio,
                    porcentaje,
                    archivo,
                    selectUsuarioMultiple,
                    date,
                    dateLog
                -->
                <label class="form-label">{{ dato.nombre ? dato.nombre : "&nbsp;" }}</label>
                <!-- Codigo text,number-->
                <div *ngIf="dato.tipo === (mapTipoInput.get(enumTiposInput.text))
                        || dato.tipo === (mapTipoInput.get(enumTiposInput.number))
                    "
                >
                    <input [ngModel]="cargarInfoPrevia(computoUbicacionAbsoluta(dato.ubicacion,dato.id),i,mapTipoInput.revGet(dato.tipo)!)" (keyup)="a(dato.ubicacion,dato.id)" [type]="dato.tipo" class="form-control" [placeholder]="dato.nombre || ''">
                </div>
                <!-- Codigo selectFijoUnico -->
                <div *ngIf="dato.tipo === (mapTipoInput.get(enumTiposInput.selectFijoUnico))">
                    <select class="form-select">
                        <option 
                            *ngFor="let opcion of obtenerOpcionesFijas(dato.opciones.idGrupoDatoFijo);index as radioIndex"
                            [selected]="cargarInfoPrevia(computoUbicacionAbsoluta(dato.ubicacion,dato.id),i,mapTipoInput.revGet(dato.tipo)!)"
                        >
                            {{ opcion }}
                        </option>
                    </select>
                </div>
                <!-- Codigo selectFijoMultiple 
                <div *ngIf="dato.tipo === (mapTipoInput.get(enumTiposInput.selectFijoUnico))">
                    <mat-form-field appearance="fill">
                        <mat-label>{{ dato.nombre ? dato.nombre : "Seleccione" }}</mat-label>
                        <mat-select multiple>
                            <mat-option *ngFor="let opcion of obtenerOpciones(dato)" [value]="opcion.valor">{{opcion.string}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>-->
            </div>
        </div>
    </div>

    <!--
    <div *ngFor="let fila of atributo.filasDatos" class="container">
        <div class="row">
            <div *ngFor="let dato of fila.datos" class="col-sm">
                <p>{{ dato.nombre }}</p>
                <div class="input-group mb-3">
                    <input
                        [type]="dato.tipo"
                        class="form-control"
                        [placeholder]="dato.nombre || ''"
                        aria-label=""
                        aria-describedby="basic-addon1"
                        *ngIf="parsearTipo(dato.tipo)[0] == 0"
                    />
                    <div class="d-flex flex-column">
                        <div *ngIf="parsearTipo(dato.tipo)[0] == 2">
                            <div
                                class="form-check"
                                *ngFor="let opcion of obtenerOpcionesFijas(dato.opciones.idGrupoDatoFijo); index as radioIndex"
                            >
                                <input
                                    class="form-check-input"
                                    type="radio"
                                    name="radio"
                                    [id]="'radio' + radioIndex + dato.id"
                                    [checked]="radioIndex === 0"
                                />
                                <label
                                    class="form-check-label"
                                    [for]="'radio' + radioIndex + dato.id"
                                >
                                    {{ opcion }}
                                </label>
                            </div>
                        </div>
                    </div>
                    <select
                        class="form-select"
                        *ngIf="parsearTipo(dato.tipo)[0] === 1 
                            && parsearTipo(dato.tipo)[1] === 'unico'"
                    >
                        <option
                            *ngFor="let opcion of obtenerOpcionesFijas(dato.opciones.idGrupoDatoFijo);index as radioIndex"
                            [selected]="radioIndex === 0"
                        >
                            {{ opcion }}
                        </option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    -->
</div>
<div *ngIf="atributo.multiInstanciable">
    <button type="button" class="btn btn-primary" (click)="agregarInstanciaAtributo()">
        Agregar {{ atributo.nombre }}
    </button>
</div>
